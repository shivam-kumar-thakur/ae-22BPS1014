import{b as g,r as n,u as m,a as h,j as t,e as f}from"./index-DeJVmANz.js";/* empty css                 *//* empty css                      */import{f as o}from"./apiFetching-D9uxTKnH.js";function T(){const a=g(e=>e.bloodFeatures),[i,l]=n.useState(),r=m(),c=h(),[O,s]=n.useTransition();n.useEffect(()=>{a.hasOwnProperty("setOtp")||s(()=>{r("/login")})},[a]);const d=e=>{e.preventDefault(),s(()=>{l(()=>e.target.value)})};function p(){o("POST","api/v1/general/email-validate",{email:a.setOtp,otp:i}).then(e=>{e?(localStorage.setItem("userLogged",!0),c(f({set:!1})),s(()=>{r("/")})):alert("Enter Valid OTP.")}).catch(e=>alert("Something went wrong"))}function u(){o("POST","api/v1/general/email-validate-resendOTP",{email:a.setOtp}).then(e=>{alert(e?"OTP send successfully":"Cannot resend OTP")}).catch(e=>alert("Something went wrong"))}return a.hasOwnProperty("setOtp")?t.jsx("div",{className:"otp-validation-container",children:t.jsxs("div",{className:"login-container",id:"container1",children:[t.jsxs("div",{className:"logo",children:[t.jsx("img",{src:"image/logo-blue.png",className:"logo-image"}),t.jsx("span",{className:"logo-name",children:"BlueBeads"})]}),t.jsxs("form",{className:"form-data",children:[t.jsx("p",{children:"We have sent an OTP to your E-Mail Id"}),t.jsx("input",{type:"text",id:"otp",placeholder:"Enter OTP",onChange:e=>d(e)}),t.jsxs("div",{className:"register-button-div",children:[t.jsx("a",{style:{color:"#940686",fontWeight:500,cursor:"grab"},onClick:()=>{u()},children:"Resend OTP"}),t.jsx("button",{type:"button",className:"button-1",id:"save",onClick:()=>{p()},children:"Verify"})]})]})]})}):null}export{T as default};
